{"version":3,"sources":["components/styles.js","components/App.jsx","components/helpers/API.js","components/HomePage/HomePage.jsx","decorators/ClassComponent.jsx","components/Cast/styles.js","components/Cast/Cast.jsx","components/Reviews/Reviews.jsx","components/helpers/GoBackHandler.js","components/MovieDetailsPage/styles.js","components/MovieDetailsPage/MovieDetailsPage.jsx","components/MoviesPage/styles.js","components/MoviesPage/MoviesPage.jsx","Routing.jsx","index.js"],"names":["Nav","styled","nav","App","activeStyle","color","textDecoration","fontWeight","style","marginRight","to","exact","KEY","fetchTrending","API","axios","get","then","res","status","Error","statusText","fetchMovies","query","HomePage","state","trending","componentDidMount","data","setState","results","this","map","el","media_type","pathname","id","from","props","location","title","Component","NewComponent","fetchData","movieId","match","params","CastList","ul","Photo","img","ClassComponent","cast","src","profile_path","alt","name","character","cast_id","length","author","content","handleGoBack","history","push","MovieDetails","div","MoviePoster","Button","button","AdditionalInfo","url","poster_path","vote_average","overview","genres","releaseDate","release_date","slice","type","onClick","path","render","SearchBar","input","MoviesPage","movies","queryString","parse","search","handleChange","event","value","target","handleSubmit","preventDefault","onSubmit","onChange","Routing","component","strict","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.669cba7e.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nconst Nav = styled.nav`\n  padding: 10px 20px 16px;\n  box-shadow: 0 2px 2px 0 rgba(24, 52, 117, 0.2);\n  margin-bottom: 4px;\n`;\n\nexport default Nav;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Nav from './styles';\n\nconst App = () => (\n  <Nav>\n    <NavLink\n      activeStyle={{\n        color: 'fuchsia',\n        textDecoration: 'none',\n        fontWeight: '500',\n      }}\n      style={{\n        marginRight: '16px',\n        color: 'inherit',\n        textDecoration: 'none',\n        fontWeight: '500',\n      }}\n      to=\"/\"\n      exact\n    >\n      Home\n    </NavLink>\n    <NavLink\n      activeStyle={{\n        color: 'fuchsia',\n        textDecoration: 'none',\n        fontWeight: '500',\n      }}\n      style={{ color: 'inherit', textDecoration: 'none', fontWeight: '500' }}\n      to=\"/movies\"\n    >\n      Movie\n    </NavLink>\n  </Nav>\n);\n\nexport default App;\n","import axios from 'axios';\n\nconst KEY = '8498946f9c7874ef33ac19a931c494c9';\n\nexport const fetchTrending = () => {\n  const API = `https://api.themoviedb.org/3/trending/all/day?api_key=${KEY}`;\n  return axios.get(API).then(res => {\n    if (res.status === 200) return res;\n    throw Error(`${res.status} ${res.statusText}`);\n  });\n};\n\nexport const fetchMovieDetails = id => {\n  const API = `https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`;\n  return axios.get(API).then(res => {\n    if (res.status === 200) return res;\n    throw Error(`${res.status} ${res.statusText}`);\n  });\n};\n\nexport const fetchMovieCast = id => {\n  const API = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`;\n  return axios.get(API).then(res => {\n    if (res.status === 200) return res;\n    throw Error(`${res.status} ${res.statusText}`);\n  });\n};\n\nexport const fetchMovieReviews = id => {\n  const API = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`;\n  return axios.get(API).then(res => {\n    if (res.status === 200) return res;\n    throw Error(`${res.status} ${res.statusText}`);\n  });\n};\n\nexport const fetchMovies = query => {\n  const API = `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`;\n  return axios.get(API).then(res => {\n    if (res.status === 200) return res;\n    throw Error(`${res.status} ${res.statusText}`);\n  });\n};\n","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetchTrending } from '../helpers/API';\n\nclass HomePage extends Component {\n  state = { trending: [] };\n  componentDidMount = () => {\n    fetchTrending().then(({ data }) =>\n      this.setState({ trending: data.results }),\n    );\n  };\n  render() {\n    const { trending } = this.state;\n    return (\n      <Fragment>\n        <h1>Trending today</h1>\n        <ul>\n          {trending.map(el =>\n            el.media_type === 'movie' ? (\n              <li key={el.id}>\n                <Link\n                  to={{\n                    pathname: `/movies/${el.id}`,\n                    state: { from: this.props.location },\n                  }}\n                >\n                  {el.title}\n                </Link>\n              </li>\n            ) : null,\n          )}\n        </ul>\n      </Fragment>\n    );\n  }\n}\n\nexport default HomePage;\n","import React, { Component } from 'react';\n\nexport default (NewComponent, { fetchData }) =>\n  class ClassComponent extends Component {\n    state = { data: null };\n    componentDidMount = () => {\n      const { movieId } = this.props.match.params;\n      fetchData(movieId).then(({ data }) => this.setState({ data }));\n    };\n    render() {\n      const { data } = this.state;\n      return <NewComponent data={data} {...this.props} />;\n    }\n  };\n","import styled from 'styled-components';\n\nexport const CastList = styled.ul`\n  list-style: none;\n`;\n\nexport const Photo = styled.img`\n  width: 100px;\n`;\n","import React from 'react';\nimport { fetchMovieCast } from '../helpers/API';\nimport ClassComponent from '../../decorators/ClassComponent';\nimport { CastList, Photo } from './styles';\n\nconst Cast = ({ data }) => {\n  const IMG = 'https://image.tmdb.org/t/p/w500';\n  if (data)\n    return data.cast.map(el => (\n      <CastList key={el.cast_id}>\n        <li>\n          <Photo src={IMG + el.profile_path} alt={el.name} />\n        </li>\n        <li>{el.name}</li>\n        <li>Character: {el.character}</li>\n      </CastList>\n    ));\n  return null;\n};\n\nexport default ClassComponent(Cast, { fetchData: fetchMovieCast });\n","import React from 'react';\nimport { fetchMovieReviews } from '../helpers/API';\nimport ClassComponent from '../../decorators/ClassComponent';\n\nconst Reviews = ({ data }) => {\n  if (data) {\n    return (\n      <ul>\n        {data.results.length > 0 ? (\n          data.results.map(el => (\n            <li key={el.id}>\n              <b>Author: {el.author}</b>\n              <p>{el.content}</p>\n            </li>\n          ))\n        ) : (\n          <span>We don't have any reviews for this movie</span>\n        )}\n      </ul>\n    );\n  }\n  return null;\n};\n\nexport default ClassComponent(Reviews, { fetchData: fetchMovieReviews });\n","const handleGoBack = props => {\n  const { state } = props.location;\n\n  if (state) {\n    return props.history.push(state.from);\n  }\n\n  return props.history.push({\n    pathname: '/',\n  });\n};\n\nexport default handleGoBack;\n","import styled from 'styled-components';\n\nexport const MovieDetails = styled.div`\n  display: flex;\n  padding-bottom: 6px;\n`;\n\nexport const MoviePoster = styled.img`\n  width: 200px;\n  margin-right: 30px;\n`;\n\nexport const Button = styled.button`\n  border: none;\n  background-color: #fff;\n  border-radius: 4px;\n  border: 1px solid #d3d3d3;\n`;\n\nexport const AdditionalInfo = styled.div`\n  border-top: 2px solid #d3d3d3;\n  border-bottom: 2px solid #d3d3d3;\n`;\n","import React, { Fragment } from 'react';\nimport { Link, Switch, Route } from 'react-router-dom';\nimport Cast from '../Cast/Cast';\nimport Reviews from '../Reviews/Reviews';\nimport { fetchMovieDetails } from '../helpers/API';\nimport ClassComponent from '../../decorators/ClassComponent';\nimport handleGoBack from '../helpers/GoBackHandler';\nimport { MovieDetails, MoviePoster, Button, AdditionalInfo } from './styles';\n\nconst MovieDetailsPage = props => {\n  const IMG = 'https://image.tmdb.org/t/p/w500';\n  const { data } = props;\n  if (data) {\n    const { url } = props.match;\n    const {\n      title,\n      poster_path,\n      vote_average,\n      overview,\n      genres,\n      release_date,\n    } = data;\n    const releaseDate = release_date.slice(0, 4);\n    return (\n      <Fragment>\n        <Button type=\"button\" onClick={() => handleGoBack(props)}>\n          Go back\n        </Button>\n        <MovieDetails>\n          <MoviePoster src={IMG + poster_path} alt={title} />\n          <div>\n            <h1>\n              {title} ({releaseDate})\n            </h1>\n            <span>User Score {vote_average * 10}%</span>\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h2>Genres</h2>\n            {genres && genres.map(el => <span key={el.id}>{el.name} </span>)}\n          </div>\n        </MovieDetails>\n        <AdditionalInfo>\n          <h3>Additional information</h3>\n          <ul>\n            <li>\n              <Link to={`${url}/cast`}>Cast</Link>\n            </li>\n            <li>\n              <Link to={`${url}/reviews`}>Reviews</Link>\n            </li>\n          </ul>\n        </AdditionalInfo>\n        <div>\n          <Switch>\n            <Route\n              path=\"/movies/:movieId/cast\"\n              render={props => <Cast {...props} />}\n            />\n            <Route\n              path=\"/movies/:movieId/reviews\"\n              render={props => <Reviews {...props} />}\n            />\n          </Switch>\n        </div>\n      </Fragment>\n    );\n  }\n  return null;\n};\n\nexport default ClassComponent(MovieDetailsPage, {\n  fetchData: fetchMovieDetails,\n});\n","import styled from 'styled-components';\n\nconst SearchBar = styled.input`\n  width: 300px;\n  border: 2px solid #d3d3d3;\n`;\n\nexport default SearchBar;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport { fetchMovies } from '../helpers/API';\nimport SearchBar from './styles';\n\nclass MoviesPage extends Component {\n  state = { movies: [], query: '' };\n\n  componentDidMount = () => {\n    const queryParams = queryString.parse(this.props.location.search);\n    const { query } = queryParams;\n    if (query) {\n      fetchMovies(query).then(({ data }) => {\n        this.setState({ movies: data.results });\n      });\n    }\n  };\n\n  handleChange = event => {\n    const target = event.target;\n    const value = target.value;\n    this.setState({ query: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { query } = this.state;\n    const { history } = this.props;\n    fetchMovies(query)\n      .then(({ data }) => {\n        this.setState({ movies: data.results, query: '' });\n      })\n      .then(\n        history.push({\n          pathname: this.props.location.pathname,\n          search: `query=${query}`,\n        }),\n      );\n  };\n\n  render() {\n    const { movies } = this.state;\n\n    return (\n      <Fragment>\n        <form onSubmit={this.handleSubmit}>\n          <SearchBar type=\"text\" onChange={this.handleChange} />\n          <button type=\"submit\">Search</button>\n        </form>\n        <ul>\n          {movies.map(el => (\n            <li key={el.id}>\n              <Link\n                to={{\n                  pathname: `/movies/${el.id}`,\n                  state: { from: this.props.location },\n                }}\n              >\n                {el.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </Fragment>\n    );\n  }\n}\n\nexport default MoviesPage;\n","import React, { Fragment } from 'react';\nimport { Route } from 'react-router-dom';\nimport HomePage from './components/HomePage/HomePage';\nimport MovieDetailsPage from './components/MovieDetailsPage/MovieDetailsPage';\nimport MoviesPage from './components/MoviesPage/MoviesPage';\n\nconst Routing = () => (\n  <Fragment>\n    <Route exact path=\"/\" component={HomePage} />\n    <Route\n      strict\n      path=\"/movies/:movieId\"\n      render={props => <MovieDetailsPage {...props} />}\n    />\n    <Route exact path=\"/movies\" component={MoviesPage} />\n  </Fragment>\n);\n\nexport default Routing;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport Routing from './Routing';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n    <Routing />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}