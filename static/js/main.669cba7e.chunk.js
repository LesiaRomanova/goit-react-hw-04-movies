(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{68:function(t,e,n){"use strict";n.r(e);var a,r,c,i,o,s,h,u,d=n(0),j=n(35),l=n.n(j),b=n(5),p=n(8),x=n(9),v=x.a.nav(a||(a=Object(p.a)(["\n  padding: 10px 20px 16px;\n  box-shadow: 0 2px 2px 0 rgba(24, 52, 117, 0.2);\n  margin-bottom: 4px;\n"]))),O=n(1),m=function(){return Object(O.jsxs)(v,{children:[Object(O.jsx)(b.c,{activeStyle:{color:"fuchsia",textDecoration:"none",fontWeight:"500"},style:{marginRight:"16px",color:"inherit",textDecoration:"none",fontWeight:"500"},to:"/",exact:!0,children:"Home"}),Object(O.jsx)(b.c,{activeStyle:{color:"fuchsia",textDecoration:"none",fontWeight:"500"},style:{color:"inherit",textDecoration:"none",fontWeight:"500"},to:"/movies",children:"Movie"})]})},f=n(11),g=n(2),y=n(13),w=n(14),S=n(16),k=n(15),D=n(17),_=n.n(D),C="8498946f9c7874ef33ac19a931c494c9",q=function(){var t="https://api.themoviedb.org/3/trending/all/day?api_key=".concat(C);return _.a.get(t).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))},E=function(t){var e="https://api.themoviedb.org/3/search/movie?api_key=".concat(C,"&language=en-US&query=").concat(t,"&page=1&include_adult=false");return _.a.get(e).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))},T=function(t){Object(S.a)(n,t);var e=Object(k.a)(n);function n(){var t;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={trending:[]},t.componentDidMount=function(){q().then((function(e){var n=e.data;return t.setState({trending:n.results})}))},t}return Object(w.a)(n,[{key:"render",value:function(){var t=this,e=this.state.trending;return Object(O.jsxs)(d.Fragment,{children:[Object(O.jsx)("h1",{children:"Trending today"}),Object(O.jsx)("ul",{children:e.map((function(e){return"movie"===e.media_type?Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:{pathname:"/movies/".concat(e.id),state:{from:t.props.location}},children:e.title})},e.id):null}))})]})}}]),n}(d.Component),A=function(t,e){var n=e.fetchData;return function(e){Object(S.a)(r,e);var a=Object(k.a)(r);function r(){var t;Object(y.a)(this,r);for(var e=arguments.length,c=new Array(e),i=0;i<e;i++)c[i]=arguments[i];return(t=a.call.apply(a,[this].concat(c))).state={data:null},t.componentDidMount=function(){var e=t.props.match.params.movieId;n(e).then((function(e){var n=e.data;return t.setState({data:n})}))},t}return Object(w.a)(r,[{key:"render",value:function(){var e=this.state.data;return Object(O.jsx)(t,Object(f.a)({data:e},this.props))}}]),r}(d.Component)},I=x.a.ul(r||(r=Object(p.a)(["\n  list-style: none;\n"]))),W=x.a.img(c||(c=Object(p.a)(["\n  width: 100px;\n"]))),F=A((function(t){var e=t.data;return e?e.cast.map((function(t){return Object(O.jsxs)(I,{children:[Object(O.jsx)("li",{children:Object(O.jsx)(W,{src:"https://image.tmdb.org/t/p/w500"+t.profile_path,alt:t.name})}),Object(O.jsx)("li",{children:t.name}),Object(O.jsxs)("li",{children:["Character: ",t.character]})]},t.cast_id)})):null}),{fetchData:function(t){var e="https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(C);return _.a.get(e).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))}}),M=A((function(t){var e=t.data;return e?Object(O.jsx)("ul",{children:e.results.length>0?e.results.map((function(t){return Object(O.jsxs)("li",{children:[Object(O.jsxs)("b",{children:["Author: ",t.author]}),Object(O.jsx)("p",{children:t.content})]},t.id)})):Object(O.jsx)("span",{children:"We don't have any reviews for this movie"})}):null}),{fetchData:function(t){var e="https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(C,"&language=en-US&page=1");return _.a.get(e).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))}}),U=function(t){var e=t.location.state;return e?t.history.push(e.from):t.history.push({pathname:"/"})},G=x.a.div(i||(i=Object(p.a)(["\n  display: flex;\n  padding-bottom: 6px;\n"]))),J=x.a.img(o||(o=Object(p.a)(["\n  width: 200px;\n  margin-right: 30px;\n"]))),R=x.a.button(s||(s=Object(p.a)(["\n  border: none;\n  background-color: #fff;\n  border-radius: 4px;\n  border: 1px solid #d3d3d3;\n"]))),B=x.a.div(h||(h=Object(p.a)(["\n  border-top: 2px solid #d3d3d3;\n  border-bottom: 2px solid #d3d3d3;\n"]))),H=A((function(t){var e=t.data;if(e){var n=t.match.url,a=e.title,r=e.poster_path,c=e.vote_average,i=e.overview,o=e.genres,s=e.release_date.slice(0,4);return Object(O.jsxs)(d.Fragment,{children:[Object(O.jsx)(R,{type:"button",onClick:function(){return U(t)},children:"Go back"}),Object(O.jsxs)(G,{children:[Object(O.jsx)(J,{src:"https://image.tmdb.org/t/p/w500"+r,alt:a}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("h1",{children:[a," (",s,")"]}),Object(O.jsxs)("span",{children:["User Score ",10*c,"%"]}),Object(O.jsx)("h2",{children:"Overview"}),Object(O.jsx)("p",{children:i}),Object(O.jsx)("h2",{children:"Genres"}),o&&o.map((function(t){return Object(O.jsxs)("span",{children:[t.name," "]},t.id)}))]})]}),Object(O.jsxs)(B,{children:[Object(O.jsx)("h3",{children:"Additional information"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"".concat(n,"/cast"),children:"Cast"})}),Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"".concat(n,"/reviews"),children:"Reviews"})})]})]}),Object(O.jsx)("div",{children:Object(O.jsxs)(g.c,{children:[Object(O.jsx)(g.a,{path:"/movies/:movieId/cast",render:function(t){return Object(O.jsx)(F,Object(f.a)({},t))}}),Object(O.jsx)(g.a,{path:"/movies/:movieId/reviews",render:function(t){return Object(O.jsx)(M,Object(f.a)({},t))}})]})})]})}return null}),{fetchData:function(t){var e="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(C,"&language=en-US");return _.a.get(e).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))}}),z=n(39),K=n.n(z),L=x.a.input(u||(u=Object(p.a)(["\n  width: 300px;\n  border: 2px solid #d3d3d3;\n"]))),N=function(t){Object(S.a)(n,t);var e=Object(k.a)(n);function n(){var t;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={movies:[],query:""},t.componentDidMount=function(){var e=K.a.parse(t.props.location.search).query;e&&E(e).then((function(e){var n=e.data;t.setState({movies:n.results})}))},t.handleChange=function(e){var n=e.target.value;t.setState({query:n})},t.handleSubmit=function(e){e.preventDefault();var n=t.state.query,a=t.props.history;E(n).then((function(e){var n=e.data;t.setState({movies:n.results,query:""})})).then(a.push({pathname:t.props.location.pathname,search:"query=".concat(n)}))},t}return Object(w.a)(n,[{key:"render",value:function(){var t=this,e=this.state.movies;return Object(O.jsxs)(d.Fragment,{children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)(L,{type:"text",onChange:this.handleChange}),Object(O.jsx)("button",{type:"submit",children:"Search"})]}),Object(O.jsx)("ul",{children:e.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:{pathname:"/movies/".concat(e.id),state:{from:t.props.location}},children:e.title})},e.id)}))})]})}}]),n}(d.Component),P=function(){return Object(O.jsxs)(d.Fragment,{children:[Object(O.jsx)(g.a,{exact:!0,path:"/",component:T}),Object(O.jsx)(g.a,{strict:!0,path:"/movies/:movieId",render:function(t){return Object(O.jsx)(H,Object(f.a)({},t))}}),Object(O.jsx)(g.a,{exact:!0,path:"/movies",component:N})]})};l.a.render(Object(O.jsxs)(b.a,{children:[Object(O.jsx)(m,{}),Object(O.jsx)(P,{})]}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.669cba7e.chunk.js.map